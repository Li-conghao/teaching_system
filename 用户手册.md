# 本科教学管理系统 - 用户手册

版本：v1.0 | 更新日期：2024-11-22

---

## 📋 目录

1. [系统简介](#1-系统简介)
2. [环境要求](#2-环境要求)
3. [初始化数据库](#3-初始化数据库)
4. [系统运行方式](#4-系统运行方式)
5. [默认账户信息](#5-默认账户信息)
6. [管理员功能](#6-管理员功能)
7. [教师功能](#7-教师功能)
8. [学生功能](#8-学生功能)
9. [常见问题](#9-常见问题)

---

## 1. 系统简介

本科教学管理系统是一个基于Python和Tkinter开发的桌面应用程序，提供完整的教学管理功能。

### 主要特点

- 🖥️ **图形化界面**：基于Tkinter的现代化GUI
- 🗄️ **SQLite数据库**：轻量级、无需额外配置
- 🌐 **双模式运行**：支持本地模式和网络模式
- 👥 **三级权限**：管理员、教师、学生
- 📊 **数据可视化**：成绩分析与统计图表
- 🔒 **安全可靠**：密码加密、权限控制

---

## 2. 环境要求

### 必需环境

- **Python**：3.7 或更高版本
- **操作系统**：Windows / Linux / macOS

### Python标准库（已内置，无需安装）

- `tkinter`、`sqlite3`、`socket`、`threading`、`hashlib`

### 可选依赖（用于数据可视化）

```bash
pip install matplotlib pandas
```

或安装所有依赖：

```bash
pip install -r requirements.txt
```

---

## 3. 初始化数据库

### ⚠️ 重要：首次运行前必须初始化数据库

### 初始化命令

**Windows系统：**

```cmd
cd C:\Users\你的用户名\Desktop\python小组作业\teaching_system
python database\init_db.py
```

**Linux/macOS系统：**

```bash
cd ~/Desktop/python小组作业/teaching_system
python database/init_db.py
```

### 成功输出示例

```
============================================================
本科教学管理系统 - 数据库初始化工具
============================================================

正在创建数据库表...
[OK] 数据库表创建完成

正在插入示例数据...
  - 管理员账号: admin / admin123
  - 插入了 5 个教师账号 (密码: teacher123)
  - 插入了 10 个学生账号 (密码: student123)
  - 插入了 10 门课程
  - 插入了 28 条选课记录
  - 插入了 15 条成绩记录
[OK] 示例数据插入完成

============================================================
数据库初始化完成！
数据库文件: teaching_system.db
现在可以启动系统了
============================================================
```

### 重新初始化

如需重置数据库：

```bash
# 删除数据库文件
del teaching_system.db    # Windows
rm teaching_system.db     # Linux/macOS

# 重新初始化
python database\init_db.py    # Windows
python database/init_db.py    # Linux/macOS
```

---

## 4. 系统运行方式

### 方式一：本地模式（推荐）

**适用场景**：单机使用

**启动命令：**

```bash
# Windows
python main.py

# Linux/macOS
python main.py
```

**输出：**

```
============================================================
本科教学管理系统 - 本地模式
============================================================
启动中...
```

随后弹出登录窗口。

---

### 方式二：网络模式

**适用场景**：多用户远程访问

#### 步骤1：启动服务器

```bash
# Windows
python server_main.py

# Linux/macOS
python server_main.py
```

**服务器输出：**

```
============================================================
本科教学管理系统 - 服务器端
============================================================
[2024-11-22 14:30:00] 服务器启动成功
[2024-11-22 14:30:00] 监听地址: 0.0.0.0:8888
[2024-11-22 14:30:00] 等待客户端连接...
```

**停止服务器**：按 `Ctrl + C`

#### 步骤2：启动客户端

```bash
# Windows
python client_main.py

# Linux/macOS
python client_main.py
```

#### 配置服务器地址

编辑 `client_main.py` 第22行：

```python
# 本地测试
client = Client(host='localhost', port=8888)

# 远程服务器（修改为实际IP）
client = Client(host='192.168.1.100', port=8888)
```

---

## 5. 默认账户信息

### 管理员

| 用户名 | 密码 |
|--------|------|
| admin | admin123 |

### 教师（5个）

| 用户名 | 密码 | 姓名 |
|--------|------|------|
| teacher001 | teacher123 | 张老师 |
| teacher002 | teacher123 | 李老师 |
| teacher003 | teacher123 | 王老师 |
| teacher004 | teacher123 | 刘老师 |
| teacher005 | teacher123 | 陈老师 |

### 学生（10个）

| 用户名 | 密码 | 姓名 | 专业 |
|--------|------|------|------|
| 2021001001 | student123 | 张三 | 计算机科学与技术 |
| 2021001002 | student123 | 李四 | 计算机科学与技术 |
| 2021001003 | student123 | 王五 | 计算机科学与技术 |
| 2021002001 | student123 | 赵六 | 软件工程 |
| 2021002002 | student123 | 钱七 | 软件工程 |
| 2022001001 | student123 | 孙八 | 计算机科学与技术 |
| 2022001002 | student123 | 周九 | 计算机科学与技术 |
| 2022002001 | student123 | 吴十 | 数据科学 |
| 2022002002 | student123 | 郑一 | 数据科学 |
| 2023001001 | student123 | 陈二 | 人工智能 |

---

## 6. 管理员功能

### 登录

- 用户名：`admin`
- 密码：`admin123`

### 功能列表

#### 6.1 数据总览

- 查看学生总数、教师总数、课程总数
- 查看平均成绩和成绩分布
- 点击"查看图表"显示可视化统计

#### 6.2 学生管理

**查看列表**：显示所有学生信息

**添加学生**：
1. 点击"添加学生"
2. 填写信息（学号、姓名、性别、专业等）
3. 点击"确认添加"

**编辑/删除**：选中学生后操作

**搜索**：输入关键词（学号/姓名/专业）

#### 6.3 教师管理

功能类似学生管理，管理教师信息。

#### 6.4 课程管理

**添加课程**：
- 课程编号（如CS101）
- 课程名称
- 任课教师
- 学分、学时
- 上课时间、教室
- 容量、状态

#### 6.5 成绩统计

查看全校成绩统计和可视化图表。

#### 6.6 用户管理

**激活/禁用用户**：
1. 选择用户
2. 点击"激活用户"或"禁用用户"

**重置密码**：
1. 选择用户
2. 点击"重置密码"
3. 确认重置（教师→teacher123，学生→student123）

**注意**：不能操作admin账号

#### 6.7 系统日志

查看所有操作记录，包括用户、操作、时间。

#### 6.8 数据导出

导出学生、教师、课程、成绩数据为CSV文件。

#### 6.9 修改密码

修改管理员自己的密码。

---

## 7. 教师功能

### 登录示例

- 用户名：`teacher003`
- 密码：`teacher123`

### 功能列表

#### 7.1 个人信息

查看工号、姓名、院系、职称等信息。

#### 7.2 我的课程

**查看课程**：显示任教的所有课程

**查看选课学生**：
1. 选择课程
2. 点击"查看选课学生"
3. 查看学生名单

#### 7.3 成绩录入

**录入步骤**：
1. 选择课程并点击"加载学生"
2. 选择学生
3. 点击"录入/编辑成绩"
4. 输入平时成绩（0-100）
5. 输入考试成绩（0-100）
6. 点击"提交"

**成绩计算**：
- 总评 = 平时 × 40% + 考试 × 60%
- 等级：优秀(≥90)、良好(80-89)、中等(70-79)、及格(60-69)、不及格(<60)

#### 7.4 学生管理

查看选了自己课程的所有学生，包括：
- 学生基本信息
- 选课课程列表（该学生选的你教的所有课程）

**搜索学生**：按学号/姓名/专业搜索

#### 7.5 修改密码

修改登录密码（修改后需重新登录）。

---

## 8. 学生功能

### 登录示例

- 用户名：`2021001001`
- 密码：`student123`

### 功能列表

#### 8.1 个人信息

查看学号、姓名、专业、年级、班级等信息。

#### 8.2 我的课程

查看已选的所有课程，包括：
- 课程编号、课程名称
- 任课教师
- 学分、上课时间、教室

#### 8.3 选课管理

**查看可选课程**：系统自动显示可选课程（开放的、未选的）

**选课**：
1. 浏览课程列表
2. 选择课程
3. 点击"选课"
4. 确认

**退课**：
1. 选择已选课程
2. 点击"退课"
3. 确认

**刷新**：点击"刷新"更新列表

#### 8.4 我的成绩

查看所有课程成绩：
- 课程信息
- 平时成绩、考试成绩
- 总评成绩、等级
- 学期

#### 8.5 修改密码

修改登录密码。

---

## 9. 常见问题

### Q1: 无法启动系统

**解决**：
```bash
# 用命令行查看错误
python main.py
```

检查：Python版本、库依赖、数据库初始化

### Q2: 登录失败

**解决**：
- 确认数据库已初始化
- 检查用户名密码（区分大小写）
- 尝试默认账户 `admin/admin123`

### Q3: 数据不显示

**解决**：
1. 确认 `teaching_system.db` 文件存在
2. 重新初始化数据库
3. 检查文件权限

### Q4: 网络模式连接失败

**解决**：
1. 确认服务器已启动
2. 检查IP地址和端口配置
3. 检查防火墙设置
4. 测试网络连通性

### Q5: 忘记密码

**学生/教师**：联系管理员重置

**管理员**：删除数据库重新初始化

### Q6: 如何备份数据

1. 关闭系统
2. 复制 `teaching_system.db` 文件
3. 保存到安全位置

**恢复**：用备份文件替换现有数据库文件

---

## 附录：技术信息

- **开发语言**：Python 3.7+
- **GUI框架**：Tkinter
- **数据库**：SQLite 3
- **网络协议**：TCP Socket
- **密码加密**：SHA-256

---

**文档结束**
